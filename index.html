<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>SÃ©bastien La merguez â€” IA chat</title>

<style>
body {
  background:#0b0b0b;
  color:#e6e6e6;
  font-family: monospace;
  max-width:900px;
  margin:auto;
  padding:20px;
}
h1 { margin-bottom:5px }
.subtitle { opacity:.6; margin-bottom:15px }

#chat {
  background:#111;
  border:1px solid #222;
  padding:15px;
  height:420px;
  overflow-y:auto;
}

.msg-user { color:#7CFC00; margin:6px 0 }
.msg-ia { color:#00BFFF; margin:6px 0 }
.msg-system { color:#888; font-style:italic }

.controls {
  margin-top:10px;
  display:flex;
  gap:10px;
}

input {
  flex:1;
  padding:10px;
  background:#111;
  border:1px solid #333;
  color:#fff;
}

button {
  padding:10px 15px;
  background:#222;
  border:1px solid #444;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>ðŸ§  SÃ©bastien La merguez</h1>
<div class="subtitle">Chat public Â· IA locale Â· discussion instantanÃ©e</div>

<div id="chat"></div>

<div class="controls">
  <input id="input" placeholder="Ã‰cris ton messageâ€¦" autocomplete="off">
  <button onclick="send()">Envoyer</button>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");

const IA_NAME = "SÃ©bastien La merguez";

let memory = JSON.parse(localStorage.getItem("sebastien_memory")) || [];

function signature() {
  return " â€” " + IA_NAME;
}

function display(text, cls) {
  const div = document.createElement("div");
  div.className = cls;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function generateResponse(msg) {
  msg = msg.toLowerCase();

  if (msg.includes("qui es") || msg.includes("prÃ©sente-toi")) {
    return "Je suis SÃ©bastien La merguez, ton IA locale, prÃªte Ã  discuter avec toi." + signature();
  }

  if (msg.includes("bonjour") || msg.includes("salut")) {
    return "Salut ! Comment Ã§a va ?" + signature();
  }

  if (msg.includes("libre")) {
    return "Ici tu peux parler librement, rien nâ€™est filtrÃ©." + signature();
  }

  // RÃ©ponse par dÃ©faut
  return "IntÃ©ressantâ€¦ continue." + signature();
}

function send() {
  const msg = input.value.trim();
  if (!msg) return;

  display("Toi > " + msg, "msg-user");
  memory.push({ role:"user", content:msg });

  const response = generateResponse(msg);
  display("SÃ©bastien La merguez > " + response, "msg-ia");
  memory.push({ role:"ia", content:response });

  localStorage.setItem("sebastien_memory", JSON.stringify(memory.slice(-100)));
  input.value = "";
}

input.addEventListener("keydown", e => {
  if (e.key === "Enter") send();
});

// Message initial
display("SÃ©bastien La merguez > Je suis en ligne. Parle librement." + signature(), "msg-ia");
</script>

</body>
</html>
